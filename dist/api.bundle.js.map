{"version":3,"sources":["webpack:///webpack/bootstrap ab89c7eb0282d339a5e6","webpack:///./source/minimalApi.js","webpack:///external \"j\"","webpack:///./source/dissectUrl.js","webpack:///./source/buildParams.js","webpack:///./source/buildAPIUrl.js","webpack:///./source/settings.js","webpack:///./source/parseMethod.js","webpack:///./source/setHeaders.js","webpack:///external \"cookie-dough\"","webpack:///./source/convertBody.js","webpack:///./source/cachedApiCall.js","webpack:///external \"underscore\"","webpack:///external \"fetch-ponyfill\""],"names":["ponyFill","shouldUsePoly","fetch","window","agent","navigator","userAgent","toLowerCase","indexOf","f","Function","modifyByKey","settings","key","add","Object","assign","_onCommonError","error","url","location","href","type","tokens","params","filter","dispatch","more","_type","REJECTED","PENDING","ex","apiPath","API_ERROR","e","ignoreError","ON_COMMON_ERROR","msg","minimalApi","set","global","getState","s","api","obj","baggage","_set","Array","isArray","forEach","Promise","resolve","serverRequest","cacheTime","DEFAULT_CACHE_TIME","onCommonError","timerFinished","delay","setTimeout","path","onSuccess","onError","body","outputExtras","take","x","isAPI","JSON","parse","setAsPending","hasToken","requiresAuthentication","UNAUTHORIZE","payload","data","IsLoggedOut","r","response","isCached","storeKey","cached","actualCall","then","statusText","status","ok","json","errors","error_baggage","DEFAULT_ON_ERROR","reject","forceError1","forceError2","text","undefined","forceError3","forceError4","stringify","fard","forceError5","forward","preserveEscaping","replace","success_baggage","finish","FULFILLED","Date","getTime","preDispatch","interval","setInterval","clearInterval","catch","preDelay","apiConfig","default","findAnyValueInObject","buildAPIUrl","pathWithTokens","dissectUrl","substr","buildParams","ecoid","str","y","encodeURIComponent","filter_str","getApiHost","apply","arguments","clean","keys","RegExp","split","api_port","parseInt","APIPORT","P","ISHTTPS","APIHOSTNAME","COOKIE_AUTHORIZATION","parseMethod","part1","part2","originalType","method","toUpperCase","setHeaders","cookie","authToken","get","Authorization","baseHeaders","mode","credentials","isMultipart","headers","convertBody","FORCE_BODY_ON_PUT","_body","File","defaultStoreCheck","j","newParams","oldParams","now","equalProps","isEqual","notTooOld","getFromStore","value","handleLocalStorageAndReduxStateWrap","storeCheck","fromStore","sc"],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;ACtCA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;AACA;;;;;;;;AACA,KAAMA,WAAW,6BAAS,EAAT,CAAjB;;AAEA,KAAMC,gBAAgB,SAAhBA,aAAgB,GAAM;;AAE1B,OAAI,OAAOC,KAAP,KAAiB,WAArB,EACE,OAAO,IAAP;;AAEF,OAAI,OAAOC,MAAP,KAAkB,WAAtB,EACE,OAAO,IAAP;;AAEF,OAAMC,QAAQD,OAAOE,SAAP,CAAiBC,SAAjB,CAA2BC,WAA3B,EAAd;;AAEA,OAAIH,MAAMI,OAAN,CAAc,MAAd,IAAwB,CAAC,CAA7B,EACE,OAAO,IAAP;;AAEF,OAAIJ,MAAMI,OAAN,CAAc,aAAd,IAA+B,CAAC,CAApC,EACE,OAAO,IAAP;AAEH,EAhBD;;AAkBA,KAAMC,IAAI,IAAIC,QAAJ,EAAV;;AAEA,UAASC,WAAT,CAAsBC,QAAtB,EAAgCC,GAAhC,EAAqC;AACnC,OAAIC,YAAJ;AACA,OAAIF,SAASC,GAAT,CAAJ,EACE,IAAIC,MAAMF,SAASC,GAAT,eAAmBD,QAAnB,IAA6BA,kBAA7B,IAAV,EACEA,WAAWG,OAAOC,MAAP,CAAcJ,QAAd,EAAwBE,GAAxB,CAAX;AACL;;AAED,KAAMG,iBAAiB,SAAjBA,cAAiB;AAAA,UAAY;AAAA,YAAO,iBAAS;AAAA;;AAE3C,gBAAKC,SAAS,EAAd;AAAA,WACFC,GADE,GACI,OAAOhB,MAAP,KAAkB,WAAlB,GAAgC,aAAhC,GAAgDiB,SAASC,IAD7D;AAAA,WAEAC,IAFA,GAE2CV,QAF3C,CAEAU,IAFA;AAAA,WAEMC,MAFN,GAE2CX,QAF3C,CAEMW,MAFN;AAAA,WAEcC,MAFd,GAE2CZ,QAF3C,CAEcY,MAFd;AAAA,WAEsBC,MAFtB,GAE2Cb,QAF3C,CAEsBa,MAFtB;AAAA,WAE8BC,QAF9B,GAE2Cd,QAF3C,CAE8Bc,QAF9B;AAAA,WAGFC,IAHE,GAGK,EAAEL,UAAF,EAAQC,cAAR,EAAgBC,cAAhB,EAAwBC,cAAxB,EAHL;;;AAKNC,mBAAYA;AACVJ,eAAMV,SAASgB,KAAT,KAAmB,mBAASC;AADxB,UAEP,mBAASC,OAFF,EAEY,KAFZ,GAGLC,EAHK,iBAIRC,SAAUpB,SAASgB,KAAT;AAJF,qCAKP,mBAASK,SALF,EAKc,IALd,wCAMA,mBAASA,SANT,eAAZ;;AASA,WAAIF,MAAMA,GAAGG,CAAb,EACE,OAAOH,GAAGG,CAAV;;AAEF,WAAItB,SAASuB,WAAb,EACE,OAAOjB,KAAP,CAED,CAAC,mBAASkB,eAAT,IAA4B,IAAI1B,QAAJ,EAA7B,EAA2C2B,GAA3C,EAAgDlB,GAAhD,EAAqD,CAArD,EAAwD,CAAxD,EAA2DY,EAA3D,EAA+DJ,IAA/D;;AAED,aAAOT,KAAP;AAED,MA1BkC;AAAA,IAAZ;AAAA,EAAvB;;AA4BA,KAAMoB,aAAa,SAAbA,UAAa,CAACC,GAAD;AAAA,OAAMC,MAAN,uEAAa,EAAb;AAAA,UAAoB,UAACd,QAAD,EAAWe,QAAX,EAAwB;;AAE7D,SAAMC,IAAI,eAAOD,QAAP,CAAV;;AAEA,SAAIE,MAAM;AAAA,cAAOL,WAAWM,GAAX,EAAgBlB,QAAhB,EAA0Be,QAA1B,CAAP;AAAA,MAAV;AAAA,SACII,UAAU,EAAEH,IAAF,EAAKhB,kBAAL,EAAee,kBAAf,EAAyBE,QAAzB,EADd;;AAGA,SAAIG,aAAJ;;AAEA,SAAIC,MAAMC,OAAN,CAAcT,GAAd,CAAJ,EACE,OAAOA,IAAIU,OAAJ,CAAa;AAAA,cAAON,iBAASH,MAAT,EAAoBK,OAApB,EAAgCD,GAAhC,EAAP;AAAA,MAAb,CAAP;;AAEF,SAAI,OAAOL,GAAP,KAAe,UAAnB,EAA+B;AAC7BO,cAAOP,IAAIM,OAAJ,CAAP;AACA,WAAI,CAACC,IAAL,EACE,OAAO,IAAII,OAAJ,CAAa,mBAAW;AAAEC;AAAW,QAArC,CAAP,CADF,KAEK;AACHR,eAAM;AAAA,kBAAOL,sBAAac,eAAgBN,KAAKM,aAAlC,IAAoDR,GAApD,GAA2DlB,QAA3D,EAAqEe,QAArE,CAAP;AAAA,UAAN;AACAI,mBAAU,EAAEH,IAAF,EAAKhB,kBAAL,EAAee,kBAAf,EAAyBE,QAAzB,EAAV;AACD;AACF;;AAED,SAAM/B,WAAWG,OAAOC,MAAP,CAAc,EAAEqC,WAAY,mBAASC,kBAAvB,EAAd,EAA2DT,OAA3D,EAAoEC,QAAQP,GAA5E,CAAjB;AACA,SAAMgB,gBAAgBtC,eAAeL,QAAf,CAAtB;;AAEA,SAAI4C,gBAAgB,IAApB;;AAEA,SAAI5C,SAAS6C,KAAb,EAAoB;AAClBD,uBAAgB,KAAhB;AACAE,kBAAY;AAAA,gBAAMF,gBAAgB,IAAtB;AAAA,QAAZ,EAAwC5C,SAAS6C,KAAjD;AACD;;AAED9C,iBAAYC,QAAZ,EAAsB,UAAtB;;AAhC6D,SAkCrDU,IAlCqD,GAkCtCV,QAlCsC,CAkCrDU,IAlCqD;AAAA,SAkC/CqC,IAlC+C,GAkCtC/C,QAlCsC,CAkC/C+C,IAlC+C;AAAA,SAmCzDxC,GAnCyD,GAmClDG,QAAQqC,IAAR,IAAgB/C,SAASO,GAA1B,GAAiC,0BAAWP,QAAX,CAAjC,GAAwD,IAnCL;AAAA,+BAoCxBA,QApCwB,CAoCvDgD,SApCuD;AAAA,SAoCvDA,SApCuD,uCAoC7CnD,CApC6C;AAAA,SAoC1CoD,OApC0C,GAoCxBjD,QApCwB,CAoC1CiD,OApC0C;AAAA,SAoCjCC,IApCiC,GAoCxBlD,QApCwB,CAoCjCkD,IApCiC;;;AAsC7D,SAAI,CAAC3C,GAAL,EACE;;AAEF,SAAM4C,eAAgB,UAASC,IAAT,EAAe;AACnC,YAAK,IAAIC,CAAT,IAAcrD,QAAd;AACE,aAAIqD,MAAM,WAAN,IAAqBA,MAAM,GAA3B,IAAkCA,MAAM,eAA5C,EACE;AACF;AACA;AAHA,cAIK,IAAI,OAAOrD,SAASqD,CAAT,CAAP,KAAuB,UAA3B,EACHD,KAAKC,CAAL,IAAUrD,SAASqD,CAAT,CAAV;AANJ,QAQAD,KAAKE,KAAL,GAAa,IAAb;;AAEA,cAAOnD,OAAOC,MAAP,CAAcgD,IAAd,EAAoB;AACzBF,eAAO,OAAOA,IAAP,KAAgB,QAAhB,GAA2BK,KAAKC,KAAL,CAAWN,IAAX,CAA3B,GAA8CA;AAD5B,QAApB,CAAP;AAGD,MAdqB,CAcpB,EAdoB,CAAtB;;AAgBA,SAAMO,eAAe,SAAfA,YAAe,GAAM;AAAA;;AACzB3C,mBAAYA,sBACPqC,YADO,iBAERzC,MAAMV,SAASgB,KAAT,KAAmB,mBAASE,OAF1B;AAGRE,kBAAUpB,SAASgB,KAAT;AAHF,qCAIP,mBAASE,OAJF,EAIY,IAJZ,wCAKC,mBAASA,OALV,eAAZ;AAOD,MARD;;AAzD6D,uBAmExC,0BAAWlB,QAAX,CAnEwC;AAAA,SAmErD0D,QAnEqD,eAmErDA,QAnEqD;;AAoE7D,gCAAY1D,QAAZ;;AAEA,SAAIA,SAAS2D,sBAAT,IAAmC,CAACD,QAAxC,EAAkD;;AAEhD5C,gBAAS,EAAEJ,MAAO,mBAASkD,WAAlB,EAAT;;AAEA,cAAO,IAAItB,OAAJ,CAAa,mBAAW;AAC7B,aAAMuB,UAAU;AACdC,iBAAO,EADO;AAEZC,wBAAc;AAFF,UAAhB;AAIA,aAAMC,IAAI,eAAOH,OAAP,CAAV;AACA,aAAMI,WAAW9D,OAAOC,MAAP,CACf6B,OADe,EAEb4B,OAFa,EAGb,EAAEtB,gBAAF,EAAWyB,IAAX,EAAcE,UAAW;AAAzB,UAHa,CAAjB;AAKAlB,sBAAaA,UAAUiB,QAAV,CAAb;AACA,gBAAOA,QAAP;AACD,QAbM,CAAP;AAeD;;AAED,SAAIjE,SAASmE,QAAb,EAAuB;;AAErB,WAAIC,SAAS,wDAAoCpE,QAApC,CAAb;;AAEA,WAAIoE,MAAJ,EAAY;;AAEV,gBAAO,IAAI9B,OAAJ,CAAY,mBAAW;;AAE5B,eAAMuB,UAAUO,OAAOH,QAAvB;AAAA,eACID,IAAI,eAAOH,OAAP,CADR;AAAA,eAEII,WAAW9D,OAAOC,MAAP,CAAc6B,OAAd,EAAuB4B,OAAvB,EAAgC,EAAEtB,gBAAF,EAAWyB,IAAX,EAAcE,UAAW,IAAzB,EAAhC,CAFf;;AAIAlB,wBAAaA,UAAUiB,QAAV,CAAb;;AAEA,kBAAO1B,QAAQ0B,QAAR,CAAP;AAED,UAVM,CAAP;AAWD;AAEF;;AAEDR;;AAGA,SAAMY,aAAa,SAAbA,UAAa;AAAA,cAAM,CAAChF,kBAAkBD,SAASE,KAA3B,GAAmCA,KAApC,EAA2CiB,GAA3C,EAAgDP,QAAhD,EACtBsE,IADsB,CACjB,oBAAY;AAAA,aACRC,UADQ,GACmBN,QADnB,CACRM,UADQ;AAAA,aACIC,MADJ,GACmBP,QADnB,CACIO,MADJ;AAAA,aACYC,EADZ,GACmBR,QADnB,CACYQ,EADZ;;;AAGhB,aAAI,CAACA,EAAL,EACE,OAAOR,SAASS,IAAT,GAAgBJ,IAAhB,CAAsB,gBAAQ;AAAA;;AAE7B,eAAEK,MAAF,GAAab,IAAb,CAAEa,MAAF;AAAA,eACFrD,CADE,GACE,eAAOqD,MAAP,CADF;AAAA,eAEFC,aAFE,GAEczE,OAAOC,MAAP,CAAc6B,OAAd,eAA4B6B,IAA5B,IAAkCxC,IAAlC,EAAqCqD,cAArC,EAA6CJ,sBAA7C,EAAyDC,cAAzD,IAFd;;;AAIN1D,uBAAYA,sBACPqC,YADO,iBAERzC,MAAMV,SAASgB,KAAT,KAAmB,mBAASC;AAF1B,yCAGP,mBAASC,OAHF,EAGY,KAHZ,yCAIElB,SAASgB,KAAT,EAJF,8BAKN,mBAASK,SALH,EAKiB,IALjB,wCAMC,mBAASA,SANV,eAAZ;;AASA,eAAI4B,OAAJ,EACEA,QAAQ2B,aAAR;;AAEF;AACA,eAAI,mBAASC,gBAAT,IAA6BL,WAAW,GAA5C,EACE,mBAASK,gBAAT,CAA0BD,aAA1B;;AAEF,kBAAOtC,QAAQwC,MAAR,CAAeF,aAAf,CAAP;AAED,UAxBM,CAAP;;AA0BA,aAAI5E,SAAS+E,WAAb,EACE,OAAO,EAAP;;AAEF,aAAI/E,SAASgF,WAAb,EACE,OAAO,EAAEC,MAAO;AAAA,oBAAMC,SAAN;AAAA,YAAT,EAAP;;AAEF,aAAIlF,SAASmF,WAAb,EACE,OAAO,EAAEF,MAAO;AAAA,oBAAM,EAAN;AAAA,YAAT,EAAP;;AAEF,aAAIjF,SAASoF,WAAb,EACE,OAAO,EAAEH,MAAO;AAAA,oBAAM1B,KAAK8B,SAAL,CAAgB9B,KAAKC,KAAL,CAAW,EAAE8B,MAAO,IAAT,EAAX,CAAhB,CAAN;AAAA,YAAT,EAAP;;AAEF,aAAItF,SAASuF,WAAb,EACE,OAAO,EAAEN,MAAO;AAAA,oBAAM1B,KAAK8B,SAAL,CAAgB9B,KAAKC,KAAL,CAAW,EAAE8B,MAAO,iBAAT,EAAX,CAAhB,CAAN;AAAA,YAAT,EAAP;;AAEJ,gBAAOrB,QAAP;AAED,QAhDsB,EAiDtBK,IAjDsB,CAiDjB;AAAA,gBAAYL,SAASgB,IAAT,EAAZ;AAAA,QAjDiB,EAkDtBX,IAlDsB,CAkDjB,gBAAQ;;AAEZ,aAAIkB,UAAU,CAAd;;AAEA,aAAIxF,SAASyF,gBAAb,EACE,OAAOlC,KAAKC,KAAL,CAAWyB,IAAX,CAAP,CADF,KAIE,OAAO1B,KAAKC,KAAL,CACLyB,KACGS,OADH,CACW,OADX,EACoB,GADpB,EACyB;AADzB,UAEGA,OAFH,CAEW,OAFX,EAEoB,GAFpB,EAEyB;AAFzB,UAGGA,OAHH,CAGW,IAHX,EAGiB,QAHjB,EAIGA,OAJH,CAIW,IAJX,EAIiB,QAJjB,EAKGA,OALH,CAKW,SALX,EAKsB,YAAM;AACxBF;AACA,kBAAOA,UAAU,CAAV,GAAc,GAAd,GAAoB,GAA3B;AACD,UARH,EASGE,OATH,CASW,QATX,EASqB,GATrB,EAS0B;AAT1B,UAUGA,OAVH,CAUW,SAVX,EAUsB,GAVtB,EAU2B;AAV3B,UAWGA,OAXH,CAWW,QAXX,EAWqB,GAXrB,CADK,CAYqB;AAZrB,UAAP;AAeH,QAzEsB,EA0EtBpB,IA1EsB,CA0EhB,mBAAW;;AAEhB,aAAMN,IAAI,eAAOH,OAAP,CAAV;AAAA,aACI8B,kBAAkBxF,OAAOC,MAAP,CAAc6B,OAAd,eAA4BkB,YAA5B,EAA6CU,OAA7C,IAAsDG,IAAtD,IADtB;AAAA,aAEI4B,SAAS,SAATA,MAAS,GAAM;AAAA;;AACf9E,uBAAYA,sBACPqC,YADO,iBAERzC,MAAMV,SAASgB,KAAT,KAAmB,mBAAS6E,SAF1B;AAGRzE,sBAAUpB,SAASgB,KAAT,EAHF;AAIR6C;AAJQ,yCAKP,mBAAS3C,OALF,EAKY,KALZ,8BAMP,mBAAS2E,SANF,EAMe,IANf,wCAOC,mBAASA,SAPV,6CAQO,IAAIC,IAAJ,EAAD,CAAaC,OAAb,EARN,eAAZ;AAUA/C,qBAAU2C,eAAV;AACD,UAdH;;AAgBA,aAAI3F,SAASgG,WAAb,EACEhG,SAASgG,WAAT,cAA0BL,eAA1B,EAA8C3F,QAA9C;;AAEF,aAAI4C,aAAJ,EACEgD,SADF,KAEK;AACH,eAAIK,WAAWC,YAAa,YAAM;AAChC,iBAAItD,aAAJ,EAAmB;AACjBuD,6BAAcF,QAAd;AACAL;AACD;AACF,YALc,EAKZ,GALY,CAAf;AAMD;;AAED,gBAAOD,eAAP;AAED,QA5GsB,EA6GtBS,KA7GsB,CA6GhBzD,cAAe,8CAAf,CA7GgB,CAAN;AAAA,MAAnB;;AA+GA,SAAI3C,SAASqG,QAAb,EACE,OAAO,IAAI/D,OAAJ,CAAa,mBAAW;;AAE7BQ,kBAAW,YAAM;AACfuB,sBAAaC,IAAb,CAAkB,YAAM;AACtB/B;AACD,UAFD;AAGD,QAJD,EAIGvC,SAASqG,QAJZ;AAMD,MARM,CAAP;;AAWF,YAAOhC,YAAP;AAED,IAhPkB;AAAA,EAAnB;;AAkPA,UAASiC,SAAT,CAAoBtE,GAApB,EAAyB;AACvB7B,UAAOC,MAAP,qBAAwB4B,GAAxB;AACD;;SAGeuE,O,GAAd7E,U;SACE4E,S,GAAAA,S;SACAE,oB;SACAC,W;SACAC,c;;;;;;AC5TJ,+B;;;;;;;;;;;mBCSwBC,U;;AATxB;;;;AACA;;;;AACA;;;;;;AAEA;;;;;AAKe,UAASA,UAAT,CAAqB3G,QAArB,EAA+B;;AAE5C,OAAMY,SAAS,2BAAYZ,QAAZ,CAAf;;AAEA,8BAAYA,QAAZ;;AAEA;AACA,OAAIA,SAASU,IAAT,CAAckG,MAAd,CAAqB,CAArB,EAAwB,CAAxB,MAA+B,GAAnC,EACE,OAAO5G,SAASU,IAAT,CAAckG,MAAd,CAAqB,CAArB,IAA0BhG,MAAjC;;AAEF,OAAIZ,SAASO,GAAb,EACE,OAAOP,SAASO,GAAT,GAAeK,MAAtB;;AAEF,OAAIZ,SAAS+C,IAAb,EACE,OAAO,2BAAa/C,SAAS+C,IAAtB,EAA4B/C,SAASW,MAArC,IAAgDC,MAAvD;;AAEF,OAAIZ,SAASU,IAAb,EACE,OAAO,2BAAaV,SAASU,IAAtB,EAA4BV,SAASW,MAArC,IAAgDC,MAAvD;AAEH,E;;;;;;;;;;;;;;mBC1BuBiG,W;;AAFxB;;;;;;AAEe,UAASA,WAAT,CAAsB7G,QAAtB,EAAgC;AAAA,OAEvCY,MAFuC,GAEVZ,QAFU,CAEvCY,MAFuC;AAAA,OAE/BC,MAF+B,GAEVb,QAFU,CAE/Ba,MAF+B;AAAA,OAEvBgB,QAFuB,GAEV7B,QAFU,CAEvB6B,QAFuB;;;AAI7C,OAAMiF,QAAQ,iBAAE,8BAAF,EAAkCjF,QAAlC,CAAd;;AAEA,OAAIkF,MAAM,GAAV;AACA,OAAI1D,UAAJ;AAAA,OAAO2D,UAAP;;AAEA,OAAIF,KAAJ,EACElG;AACEkG;AADF,MAEQlG,UAAU,EAFlB;;AAMF,OAAI,CAACA,MAAL,EACE,OAAO,EAAP;;AAEF;AACAZ,YAASY,MAAT,GAAkBA,MAAlB;;AAEA,QAAKyC,CAAL,IAAUzC,MAAV;AACE,SAAIA,OAAOyC,CAAP,MAAc6B,SAAd,IAA2BtE,OAAOyC,CAAP,MAAc,EAA7C,EACE0D,OAAO1D,IAAI,GAAJ,GAAU4D,mBAAmBrG,OAAOyC,CAAP,CAAnB,CAAV,GAA0C,GAAjD;AAFJ,IAIA0D,MAAMA,IAAIrB,OAAJ,CAAY,KAAZ,EAAmB,EAAnB,CAAN;;AAEA,OAAI7E,MAAJ,EAAY;AACV,SAAIqG,aAAa,EAAjB;AACA,UAAKF,CAAL,IAAUnG,MAAV;AACE,WAAIA,OAAOmG,CAAP,MAAc9B,SAAd,IAA2BrE,OAAOmG,CAAP,MAAc,EAA7C,EACEE,cAAcF,IAAI,IAAJ,GAAWC,mBAAmBpG,OAAOmG,CAAP,CAAnB,CAAX,GAA2C,GAAzD;AAFJ,MAIAE,aAAaA,WAAWxB,OAAX,CAAmB,KAAnB,EAA0B,EAA1B,CAAb;;AAEA,YAAOqB,OAAO,aAAaG,UAA3B;AAED;;AAED,UAAOH,GAAP;AAED,E;;;;;;;;;;;;;;;AC5CD;;;;;;AAEA;;;;;;;AAOA,UAASN,WAAT,CAAqB1D,IAArB,EAA2BpC,MAA3B,EAAmC;AACjC,UAAOwG,eAAeT,eAAeU,KAAf,CAAqB,IAArB,EAA2BC,SAA3B,CAAtB;AACD;;AAED,UAASX,cAAT,GAAwD;AAAA,OAA/B3D,IAA+B,uEAAxB,EAAwB;AAAA,OAApBpC,MAAoB,uEAAX,EAAW;AAAA,OAAP2G,KAAO;;;AAEtD,OAAI,OAAOvE,IAAP,KAAgB,QAAhB,IAA4B,QAAOpC,MAAP,yCAAOA,MAAP,OAAkB,QAAlD,EACE,OAAOoC,IAAP;;AAEF5C,UAAOoH,IAAP,CAAY5G,MAAZ,EAAoB0B,OAApB,CAA4B,UAASpC,GAAT,EAAc;AACxC8C,YAAOA,KAAK2C,OAAL,CAAc,IAAI8B,MAAJ,CAAW,MAAMvH,GAAjB,EAAsB,GAAtB,CAAd,EAA0CU,OAAOV,GAAP,CAA1C,CAAP;AACD,IAFD;;AAIA,OAAIqH,KAAJ,EACE,OAAOvE,KAAK0E,KAAL,CAAW,GAAX,EAAgB,CAAhB,KAAsB1E,KAAK0E,KAAL,CAAW,GAAX,EAAgB,CAAhB,CAA7B;;AAEF,UAAO1E,IAAP;AAED;;AAED,UAASoE,UAAT,GAAsB;;AAEpB,OAAMO,WAAWC,SAAS,mBAASC,OAAlB,CAAjB;;AAEA,OAAMC,IAAIH,aAAa,EAAb,SAAsBA,QAAtB,GAAmC,EAA7C;;AAEA,OAAI,mBAASI,OAAb,EACE,OAAO,aAAa,mBAASC,WAAtB,GAAoCF,CAA3C,CADF,KAGE,OAAO,YAAY,mBAASE,WAArB,GAAmCF,CAA1C;AAEH;;SAGgBtB,O,GAAfE,W;SACEC,c,GAAAA,c;;;;;;;;;;;AC5CJ,KAAM1G,WAAW;AACf8H,YAAU,KADK;AAEbC,gBAAc,cAFD;AAGbH,YAAU,EAHG;AAIb1G,YAAU,UAJG;AAKb2E,cAAY,YALC;AAMb5E,aAAW,WANE;AAOb+G,yBAAsB,iBAPT;AAQb3G,cAAY;AARC,EAAjB;;mBAWerB,Q;;;;;;;;;;;;;;mBCNSiI,W;AALxB;;;;;AAKe,UAASA,WAAT,CAAsBjI,QAAtB,EAAgC;;AAE7CA,YAASgB,KAAT,GAAiBhB,SAASU,IAA1B;;AAEA,OAAMA,OAAO,OAAOV,SAASU,IAAhB,KAAyB,UAAzB,GAAsCV,SAASU,IAAT,MAAmB,EAAzD,GAA8DV,SAASU,IAAT,IAAiB,EAA5F;;AAJ6C,qBAMpBA,KAAK+G,KAAL,CAAW,GAAX,CANoB;AAAA;AAAA,OAMrCS,KANqC;AAAA,OAM9BC,KAN8B;;AAQ7C,OAAI,CAACA,KAAL,EACE,OAAOnI,QAAP;;AAEFA,YAASoI,YAAT,GAAwBpI,SAASU,IAAjC;AACAV,YAASqI,MAAT,GAAkBH,MAAMI,WAAN,EAAlB;AACAtI,YAASU,IAAT,GAAgByH,KAAhB;;AAEA,UAAOnI,QAAP;AAED,E;;;;;;;;;;;;;;mBCfuBuI,U;;AAPxB;;;;AACA;;;;;;AAEA;;;;AAIe,UAASA,UAAT,CAAqBvI,QAArB,EAA+B;AAEtC,OAAEwC,aAAF,GAAoBxC,QAApB,CAAEwC,aAAF;AAAA,OACFgG,MADE,GACOhG,gBAAgB,0BAAgBA,aAAhB,CAAhB,GAAiD,4BADxD;AAAA,OAEFiG,SAFE,GAEUD,OAAOE,GAAP,CAAW,mBAASV,oBAApB,KAA6C,WAFvD;AAAA,OAGFW,aAHE,eAGwBF,SAHxB;AAAA,OAIFG,WAJE,GAIY,EAAED,4BAAF,EAJZ;;;AAMN3I,YAAS6I,IAAT,GAAgB,MAAhB;;AAEA,OAAI7I,SAASU,IAAT,CAAckG,MAAd,CAAqB,CAArB,EAAwB,CAAxB,MAA+B,GAAnC,EACE5G,SAAS8I,WAAT,GAAuB,SAAvB;;AAEF;AACA;AACA;AACA;AACA,OAAI,CAAC9I,SAAS+I,WAAd,EACE,IAAI/I,SAASqI,MAAT,KAAoB,KAAxB,EACEO,YAAY,cAAZ,IAA8B,kBAA9B;;AAEJ5I,YAASgJ,OAAT,GAAmB7I,OAAOC,MAAP,cAAmBwI,WAAnB,GAAkC5I,SAASgJ,OAA3C,CAAnB;;AAEA,UAAO;AACLH,WAAO7I,SAAS6I,IADX;AAEHJ,yBAFG;AAGHE,iCAHG;AAIHjF,eAAW+E,cAAc;AAJtB,IAAP;AAOD,E;;;;;;ACrCD,0C;;;;;;;;;;;mBCOwBQ,W;AAPxB;;;;;AAKA,KAAMC,oBAAoB,IAA1B;;AAEe,UAASD,WAAT,CAAsBjJ,QAAtB,EAAgC;;AAE7C,OAAIA,SAASkD,IAAb,EAAmB;AACjB,SAAI,OAAOlD,SAASkD,IAAhB,KAAyB,QAA7B,EACElD,SAASmJ,KAAT,GAAiBnJ,SAASkD,IAA1B;;AAEF,SAAI,OAAOkG,IAAP,KAAgB,WAAhB,IAA+BpJ,SAASkD,IAAT,YAAyBkG,IAAxD,IAAgEpJ,SAAS+I,WAA7E,EACE;;AAEF/I,cAASkD,IAAT,GAAgBK,KAAK8B,SAAL,CAAerF,SAASkD,IAAxB,CAAhB;AAED,IATD,MASO,IAAIgG,qBAAqBlJ,SAASqI,MAAT,KAAoB,KAA7C,EACLrI,SAASkD,IAAT,GAAgB,IAAhB;AAEH,E;;;;;;;;;;;;;;;SCjBesD,oB,GAAAA,oB;;AAJhB;;AACA;;;;AACA;;;;;;AAEO,UAASA,oBAAT,CAA+BxE,GAA/B,EAAoCqB,CAApC,EAAuC;AAC5C,QAAKA,CAAL,IAAUrB,GAAV;AACE,SAAIqB,MAAM,mBAASnC,OAAnB,EACE,SADF,KAEK,IAAI,EAAEc,IAAIqB,CAAJ,aAAkBlD,MAApB,CAAJ,EACH,OAAO,IAAP,CADG,KAEA,IAAIqG,qBAAqBxE,IAAIqB,CAAJ,CAArB,CAAJ,EACH,OAAO,IAAP;AANJ;AAOD;;AAED,UAASgG,iBAAT,OAA2E;AAAA,OAA7C1I,MAA6C,QAA7CA,MAA6C;AAAA,OAArCC,MAAqC,QAArCA,MAAqC;AAAA,OAA7BC,MAA6B,QAA7BA,MAA6B;AAAA,OAArBqC,IAAqB,QAArBA,IAAqB;AAAA,OAAfc,CAAe,QAAfA,CAAe;AAAA,OAAZhE,QAAY,QAAZA,QAAY;;;AAEzE;AACA;;AAEAgE,KAAEsF,CAAF,CAAI,aAAJ;AACA,OAAMC,YAAY,EAAE5I,cAAF,EAAUC,cAAV,EAAkBsC,UAAlB,EAAwBrC,cAAxB,EAAlB;AACA,OAAM2I,YAAY,EAAE7I,QAASqD,EAAEsF,CAAF,CAAI,QAAJ,CAAX,EAA0B1I,QAASoD,EAAEsF,CAAF,CAAI,QAAJ,CAAnC,EAAkDpG,MAAOc,EAAEsF,CAAF,CAAI,MAAJ,CAAzD,EAAsEzI,QAASmD,EAAEsF,CAAF,CAAI,QAAJ,CAA/E,EAAlB;AACA,OAAMG,MAAO,IAAI3D,IAAJ,EAAD,CAAaC,OAAb,EAAZ;;AAEA,OAAM2D,aAAa,qBAAEC,OAAF,CAAUJ,SAAV,EAAqBC,SAArB,CAAnB;AACA,OAAMI,YAAY5F,EAAEsF,CAAF,CAAI,aAAJ,EAAmBG,GAAnB,IAA0BA,OAAQzJ,SAASyC,SAAT,IAAuB,OAAO,EAAP,GAAY,CAA3C,CAA5C;;AAEA,UAAOiH,cAAcE,SAArB;AACD;;AAED,UAASC,YAAT,QAAwC;AAAA,OAAf1F,QAAe,SAAfA,QAAe;AAAA,OAALrC,CAAK,SAALA,CAAK;;;AAEtC,OAAMgI,QAAQhI,EAAEwH,CAAF,CAAInF,QAAJ,KAAiB,EAA/B;;AAEA,OAAI2F,MAAO,mBAAS5I,OAAhB,CAAJ,EACE;;AAEF,OAAIsF,qBAAqBsD,KAArB,CAAJ,EACE,OAAOA,KAAP;AAEH;;AAEM,KAAMC,oFAAsC,SAAtCA,mCAAsC,WAAY;AAAA,OAErD5F,QAFqD,GAERnE,QAFQ,CAErDmE,QAFqD;AAAA,8BAERnE,QAFQ,CAE3CgK,UAF2C;AAAA,OAE3CA,UAF2C,wCAE9BX,iBAF8B;;;AAI7D,OAAI,CAAClF,QAAL,EACE;;AAEF,OAAM8F,YAAYJ,aAAa7J,QAAb,CAAlB;AAAA,OACIiE,WAAWgG,SADf;;AAGA,OAAI,CAAChG,QAAL,EACE;;AAEF,OAAIiG,KAAKF,wBAAgBhK,QAAhB,IAA0BqJ,oCAA1B,EAA6CrF,GAAI,eAAOC,QAAP,CAAjD,EAAmEH,MAAOG,SAASH,IAAnF,EAAyFG,kBAAzF,EAAmGjE,kBAAnG,IAAT;;AAEA,OAAI,CAACkK,EAAL,EACE;;AAEF,qBAASjG,kBAAT,EAAmBgG,oBAAnB,EAA8B9F,kBAA9B,IAA2CF,QAA3C;AAED,EApBM,C;;;;;;AC1CP,wC;;;;;;ACAA,4C","file":"api.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ab89c7eb0282d339a5e6","import { jbound } from 'j'\nimport dissectUrl from './dissectUrl'\nimport buildAPIUrl, { pathWithTokens } from './buildAPIUrl'\nimport setHeaders from './setHeaders'\nimport convertBody from './convertBody'\nimport { handleLocalStorageAndReduxStateWrap, findAnyValueInObject } from './cachedApiCall'\nimport SETTINGS from './settings'\nimport PonyFill from 'fetch-ponyfill'\nconst ponyFill = PonyFill({})\n\nconst shouldUsePoly = () => {\n\n  if (typeof fetch === \"undefined\")\n    return true\n\n  if (typeof window === \"undefined\")\n    return true\n\n  const agent = window.navigator.userAgent.toLowerCase()\n\n  if (agent.indexOf(\"edge\") > -1)\n    return true\n\n  if (agent.indexOf(\"trident/7.0\") > -1)\n    return true\n\n}\n\nconst f = new Function()\n\nfunction modifyByKey (settings, key) {\n  let add\n  if (settings[key])\n    if (add = settings[key]({ ...settings, settings }))\n      settings = Object.assign(settings, add)\n}\n\nconst _onCommonError = settings => msg => error => {\n\n  const ex = error || {}\n    , url = typeof window === \"undefined\" ? \"server side\" : location.href\n    , { type, tokens, params, filter, dispatch } = settings\n    , more = { type, tokens, params, filter }\n\n  dispatch && dispatch({\n    type: settings._type() + SETTINGS.REJECTED\n    , [SETTINGS.PENDING]: false\n    , ...ex\n    , apiPath: (settings._type())\n    , [SETTINGS.API_ERROR]: true\n    , status: SETTINGS.API_ERROR\n  })\n\n  if (ex && ex.e)\n    delete ex.e\n\n  if (settings.ignoreError)\n    return error\n\n  ;(SETTINGS.ON_COMMON_ERROR || new Function)(msg, url, 0, 0, ex, more )\n\n  throw (error)\n\n}\n\nconst minimalApi = (set, global={}) => (dispatch, getState) => {\n\n  const s = jbound(getState)\n\n  let api = obj => minimalApi(obj)(dispatch, getState)\n    , baggage = { s, dispatch, getState, api }\n\n  let _set\n\n  if (Array.isArray(set))\n    return set.forEach( obj => api({ ...global, ...baggage, ...obj }))\n\n  if (typeof set === \"function\") {\n    _set = set(baggage)\n    if (!_set)\n      return new Promise( resolve => { resolve() })\n    else {\n      api = obj => minimalApi({ serverRequest : _set.serverRequest, ...obj })(dispatch, getState)\n      baggage = { s, dispatch, getState, api }\n    }\n  }\n\n  const settings = Object.assign({ cacheTime : SETTINGS.DEFAULT_CACHE_TIME }, baggage, _set || set)\n  const onCommonError = _onCommonError(settings)\n\n  let timerFinished = true\n\n  if (settings.delay) {\n    timerFinished = false\n    setTimeout( () => timerFinished = true, settings.delay )\n  }\n\n  modifyByKey(settings, \"prefetch\")\n\n  const { type, path } = settings\n    , url = (type || path || settings.url) ? dissectUrl(settings) : null\n    , { onSuccess=f, onError, body } = settings\n\n  if (!url)\n    return\n\n  const outputExtras = (function(take) {\n    for (var x in settings)\n      if (x === \"reduxForm\" || x === \"s\" || x === \"serverRequest\")\n        continue\n      // else if (x === \"type\")\n      //  take._type = settings[x]\n      else if (typeof settings[x] !== \"function\")\n        take[x] = settings[x]\n    \n    take.isAPI = true\n\n    return Object.assign(take, {\n      body : typeof body === \"string\" ? JSON.parse(body) : body \n    })\n  }({ }))\n\n  const setAsPending = () => {\n    dispatch && dispatch({\n      ...outputExtras\n      , type: settings._type() + SETTINGS.PENDING\n      , apiPath: (settings._type())\n      , [SETTINGS.PENDING]: true\n      , status : SETTINGS.PENDING\n    })\n  }\n\n  const { hasToken } = setHeaders(settings)\n  convertBody(settings)\n\n  if (settings.requiresAuthentication && !hasToken) {\n\n    dispatch({ type : SETTINGS.UNAUTHORIZE })\n\n    return new Promise( resolve => {\n      const payload = {\n        data : {}\n        , IsLoggedOut : true\n      }\n      const r = jbound(payload)\n      const response = Object.assign(\n        baggage\n        , payload\n        , { resolve, r, isCached : true \n      })\n      onSuccess && onSuccess(response)\n      return response\n    })\n    \n  }\n\n  if (settings.storeKey) {\n\n    let cached = handleLocalStorageAndReduxStateWrap(settings)\n\n    if (cached) {\n\n      return new Promise(resolve => {\n\n        const payload = cached.response\n          , r = jbound(payload)\n          , response = Object.assign(baggage, payload, { resolve, r, isCached : true })\n\n        onSuccess && onSuccess(response)\n\n        return resolve(response)\n\n      })\n    }\n\n  }\n\n  setAsPending()\n\n\n  const actualCall = () => (shouldUsePoly() ? ponyFill.fetch : fetch)(url, settings)\n    .then(response => {\n      const { statusText, status, ok } = response\n\n      if (!ok)\n        return response.json().then( data => {\n\n          const { errors } = data\n            , e = jbound(errors)\n            , error_baggage = Object.assign(baggage, { ...data, e, errors, statusText, status })\n\n          dispatch && dispatch({\n            ...outputExtras\n            , type: settings._type() + SETTINGS.REJECTED\n            , [SETTINGS.PENDING]: false\n            , apiPath: (settings._type())\n            , [ SETTINGS.API_ERROR ] : true\n            , status : SETTINGS.API_ERROR\n          })\n\n          if (onError)\n            onError(error_baggage)\n\n          // most likely logs you out\n          if (SETTINGS.DEFAULT_ON_ERROR && status === 401)\n            SETTINGS.DEFAULT_ON_ERROR(error_baggage)\n\n          return Promise.reject(error_baggage)\n\n        })\n\n        if (settings.forceError1)\n          return {}\n\n        if (settings.forceError2)\n          return { text : () => undefined }\n\n        if (settings.forceError3)\n          return { text : () => \"\"  }\n\n        if (settings.forceError4)\n          return { text : () => JSON.stringify( JSON.parse({ fard : true }) )  }\n\n        if (settings.forceError5)\n          return { text : () => JSON.stringify( JSON.parse({ fard : \"<hello></hello>\" }) )  }\n\n      return response\n\n    })\n    .then(response => response.text())\n    .then(text => {\n\n      let forward = 0\n\n      if (settings.preserveEscaping)\n        return JSON.parse(text)\n\n      else\n        return JSON.parse(\n          text\n            .replace(/&lt;/g, \"﹤\") // these are not ok\n            .replace(/&gt;/g, \"﹥\") // not ok either\n            .replace(/“/g, \"&quot;\")\n            .replace(/”/g, \"&quot;\")\n            .replace(/&quot;/g, () => {\n              forward++\n              return forward % 2 ? \"“\" : \"”\"\n            })\n            .replace(/&#96;/g, \"'\") // single quotes ok, because JSON is double quoted\n            .replace(/&#x27;/g, \"'\") // tick is ok\n            .replace(/&amp;/g, \"&\") // & is ok because it might be in a url\n        )\n\n    })\n    .then( payload => {\n\n      const r = jbound(payload)\n        , success_baggage = Object.assign(baggage, { ...outputExtras, ...payload, r })\n        , finish = () => {\n          dispatch && dispatch({\n            ...outputExtras\n            , type: settings._type() + SETTINGS.FULFILLED\n            , apiPath: (settings._type())\n            , payload\n            , [SETTINGS.PENDING]: false\n            , [SETTINGS.FULFILLED] : true\n            , status : SETTINGS.FULFILLED\n            , __timestamp : (new Date()).getTime()\n          })\n          onSuccess(success_baggage)\n        }\n\n      if (settings.preDispatch)\n        settings.preDispatch({ ...success_baggage, ...settings })\n      \n      if (timerFinished)\n        finish()\n      else {\n        let interval = setInterval( () => {\n          if (timerFinished) {\n            clearInterval(interval)\n            finish()\n          }\n        }, 100)\n      }\n\n      return success_baggage\n\n    })\n    .catch(onCommonError( \"API_ERROR : Issue with dispatching Fulfilled\" ) )\n\n  if (settings.preDelay)\n    return new Promise( resolve => {\n\n      setTimeout(() => {\n        actualCall().then(() => {\n          resolve()\n        })\n      }, settings.preDelay)\n\n    })\n\n\n  return actualCall()\n\n}\n\nfunction apiConfig (obj) {\n  Object.assign(SETTINGS, obj)\n}\n\nexport {\n  minimalApi as default \n  , apiConfig\n  , findAnyValueInObject\n  , buildAPIUrl\n  , pathWithTokens\n}\n\n\n// WEBPACK FOOTER //\n// ./source/minimalApi.js","module.exports = require(\"j\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"j\"\n// module id = 1\n// module chunks = 0","import buildParams from \"./buildParams\"\nimport buildAPIUrl from './buildAPIUrl'\nimport parseMethod from './parseMethod'\n\n/**\n * Used to replace the API_PATH when tokens are present\n * @param settings {object} api object\n * @returns {string}\n */\nexport default function dissectUrl (settings) {\n\n  const params = buildParams(settings)\n\n  parseMethod(settings)\n\n  // if the PATH starts with ~ then assume it's going to local server, not to API server\n  if (settings.type.substr(0, 1) === \"~\")\n    return settings.type.substr(1) + params\n\n  if (settings.url)\n    return settings.url + params\n\n  if (settings.path)\n    return buildAPIUrl( settings.path, settings.tokens ) + params\n\n  if (settings.type)\n    return buildAPIUrl( settings.type, settings.tokens ) + params\n\n}\n\n\n// WEBPACK FOOTER //\n// ./source/dissectUrl.js","import j from 'j'\n\nexport default function buildParams (settings) {\n\n  let { params, filter, getState } = settings\n\n  const ecoid = j(\"user.data.ec.organization_id\", getState)\n\n  let str = '?'\n  let x, y\n\n  if (ecoid)\n    params = {\n      ecoid\n      , ...(params || {})\n    }\n\n\n  if (!params)\n    return \"\"\n\n  // modify the params so localStorage check works\n  settings.params = params\n\n  for (x in params)\n    if (params[x] !== undefined && params[x] !== \"\")\n      str += x + '=' + encodeURIComponent(params[x]) + '&'\n\n  str = str.replace(/\\&$/, '')\n\n  if (filter) {\n    let filter_str = \"\"\n    for (y in filter)\n      if (filter[y] !== undefined && filter[y] !== \"\")\n        filter_str += y + '::' + encodeURIComponent(filter[y]) + '|'\n\n    filter_str = filter_str.replace(/\\|$/, '')\n\n    return str += \"&filter=\" + filter_str\n\n  }\n\n  return str\n\n}\n\n\n// WEBPACK FOOTER //\n// ./source/buildParams.js","import SETTINGS from './settings'\n\n/**\n *\n * @param { string } path\n * @param { object } tokens\n * @param clean [boolean] optional, removes the post | get | put | delete\n * @returns { string }\n */\nfunction buildAPIUrl(path, tokens) {\n  return getApiHost() + pathWithTokens.apply(this, arguments)\n}\n\nfunction pathWithTokens (path = \"\", tokens = {}, clean) {\n\n  if (typeof path !== \"string\" || typeof tokens !== \"object\")\n    return path\n\n  Object.keys(tokens).forEach(function(key) {\n    path = path.replace( new RegExp(':' + key, 'g'), tokens[key])\n  })\n\n  if (clean)\n    return path.split(\" \")[1] || path.split(\" \")[0]\n\n  return path\n\n}\n\nfunction getApiHost() {\n\n  const api_port = parseInt(SETTINGS.APIPORT)\n\n  const P = api_port !== 80 ? `:${api_port}` : ''\n\n  if (SETTINGS.ISHTTPS)\n    return \"https://\" + SETTINGS.APIHOSTNAME + P\n  else\n    return \"http://\" + SETTINGS.APIHOSTNAME + P\n\n}\n\nexport {\n  buildAPIUrl as default\n  , pathWithTokens\n}\n\n\n\n// WEBPACK FOOTER //\n// ./source/buildAPIUrl.js","const settings = {\n  ISHTTPS : false\n  , APIHOSTNAME : \"fardFardFard\"\n  , APIPORT : 80\n  , PENDING : \"_PENDING\"\n  , FULFILLED : \"_FULFILLED\"\n  , REJECTED : \"_REJECTED\"\n  , COOKIE_AUTHORIZATION: \"X-Authorization\"\n  , API_ERROR : \"API_ERROR\"\n}\n\nexport default settings\n\n\n// WEBPACK FOOTER //\n// ./source/settings.js","/**\n * Get the request method out of the type, extends the settings object with value\n * @param settings\n * @returns {*}\n */\nexport default function parseMethod (settings) {\n\n  settings._type = settings.type\n\n  const type = typeof settings.type === \"function\" ? settings.type() || \"\" : settings.type || \"\"\n\n  const [ part1, part2 ] = type.split(\" \")\n\n  if (!part2)\n    return settings\n\n  settings.originalType = settings.type\n  settings.method = part1.toUpperCase()\n  settings.type = part2\n\n  return settings\n\n}\n\n\n// WEBPACK FOOTER //\n// ./source/parseMethod.js","import CookieDough from 'cookie-dough'\nimport SETTINGS from './settings'\n\n/**\n * sets the request headers\n * @param settings\n */\nexport default function setHeaders (settings) {\n\n  const { serverRequest } = settings\n    , cookie = serverRequest ? new CookieDough(serverRequest) : CookieDough()\n    , authToken = cookie.get(SETTINGS.COOKIE_AUTHORIZATION) || 'undefined'\n    , Authorization = `Bearer ${authToken}`\n    , baseHeaders = { Authorization }\n\n  settings.mode = \"cors\"\n\n  if (settings.type.substr(0, 1) === \"~\")\n    settings.credentials = 'include'\n\n  // if the request body should be multipart/form-data,\n  // don't set the 'Content-Type' header so that the\n  // browser will do it automatically, along with the\n  // appropriate 'boundary' string\n  if (!settings.isMultipart)\n    if (settings.method !== \"GET\")\n      baseHeaders['Content-Type'] = 'application/json'\n\n  settings.headers = Object.assign({ ...baseHeaders }, settings.headers)\n\n  return {\n    mode : settings.mode\n    , authToken\n    , Authorization\n    , hasToken : authToken !== \"undefined\"\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./source/setHeaders.js","module.exports = require(\"cookie-dough\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cookie-dough\"\n// module id = 8\n// module chunks = 0","/**\n * Converts the key/value body object into a json string\n * @param settings\n */\n\nconst FORCE_BODY_ON_PUT = true\n\nexport default function convertBody (settings) {\n\n  if (settings.body) {\n    if (typeof settings.body !== \"string\")\n      settings._body = settings.body\n\n    if (typeof File !== \"undefined\" && settings.body instanceof File || settings.isMultipart)\n      return\n\n    settings.body = JSON.stringify(settings.body)\n\n  } else if (FORCE_BODY_ON_PUT && settings.method === \"PUT\")\n    settings.body = \"{}\"\n\n}\n\n\n// WEBPACK FOOTER //\n// ./source/convertBody.js","import { jbound } from 'j'\nimport SETTINGS from './settings'\nimport _ from 'underscore'\n\nexport function findAnyValueInObject (obj, x) {\n  for (x in obj)\n    if (x === SETTINGS.PENDING)\n      continue\n    else if (!(obj[x] instanceof Object))\n      return true\n    else if (findAnyValueInObject(obj[x]))\n      return true\n}\n\nfunction defaultStoreCheck ({ tokens, params, filter, body, r, settings }) {\n\n  // if (body || r.j(\"body\"))\n  //   debugger\n\n  r.j(\"__timestamp\")\n  const newParams = { tokens, params, body, filter }\n  const oldParams = { tokens : r.j(\"tokens\"), params : r.j(\"params\"), body : r.j(\"body\"), filter : r.j(\"filter\") }\n  const now = (new Date()).getTime()\n\n  const equalProps = _.isEqual(newParams, oldParams)\n  const notTooOld = r.j(\"__timestamp\", now) > now - ( settings.cacheTime || (1000 * 60 * 5)) \n\n  return equalProps && notTooOld\n}\n\nfunction getFromStore ({ storeKey, s }) {\n\n  const value = s.j(storeKey) || {}\n\n  if (value[ SETTINGS.PENDING ])\n    return\n\n  if (findAnyValueInObject(value))\n    return value\n\n}\n\nexport const handleLocalStorageAndReduxStateWrap = settings => {\n\n  const { storeKey, storeCheck = defaultStoreCheck } = settings\n\n  if (!storeKey)\n    return\n\n  const fromStore = getFromStore(settings)\n    , response = fromStore\n\n  if (!response)\n    return\n\n  let sc = storeCheck({ ...settings, defaultStoreCheck, r : jbound(response), data : response.data, response, settings })\n\n  if (!sc)\n    return\n\n  return { response, fromStore, storeKey, ...response }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./source/cachedApiCall.js","module.exports = require(\"underscore\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"underscore\"\n// module id = 11\n// module chunks = 0","module.exports = require(\"fetch-ponyfill\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fetch-ponyfill\"\n// module id = 12\n// module chunks = 0"],"sourceRoot":""}